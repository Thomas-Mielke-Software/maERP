@page "/Orders/{orderId:int}"
@using Microsoft.AspNetCore.Authorization

@attribute [Authorize]

<h1>Bestellung @orderId</h1>

<MudGrid>

    <MudItem xs="12" sm="6" md="4">
        <MudPaper Elevation="2" Class="pa-4" Style="height: 200px;">
            <MudText Typo="Typo.h6">Datum</MudText>
            <MudText>@Order.DateOrdered Uhr</MudText>
            <MudText Typo="Typo.h6">Summe</MudText>
            <MudText>@Order.Total.ToString("C")</MudText>
            <MudText Typo="Typo.h6">Status</MudText>
            <MudText>@Order.Status</MudText>
        </MudPaper>
    </MudItem>

    @*
    <MudItem xs="12" sm="6" md="4">
        <MudPaper Elevation="2" Class="pa-4" Style="height: 200px;">
            <MudText Typo="Typo.h6">Zahlungsart</MudText>
            <MudText>@order.PaymentMethod</MudText>
            <MudText Typo="Typo.h6">Zahlungsanbieter</MudText>
            <MudText>@order.PaymentProvider</MudText>
            <MudText Typo="Typo.h6">Zahlungsstatus</MudText>
            <MudText>@order.PaymentStatus</MudText>
        </MudPaper>
    </MudItem>
    *@

    <MudItem xs="12" sm="6" md="4">
        <MudPaper Elevation="2" Class="pa-4" Style="height: 200px;">
            <MudText Typo="Typo.h6">Rechnungsadresse</MudText>
            <MudText>
                @Order.InvoiceAddressFirstName @Order.InvoiceAddressLastName<br />
                @if (Order.InvoiceAddressCompanyName.Length > 0)
                {
                    @Order.InvoiceAddressCompanyName<br />
                }
                @Order.InvoiceAddressStreet<br />
                @Order.InvoiceAddressZip @Order.InvoiceAddressCity
            </MudText>
        </MudPaper>
    </MudItem>

    <MudItem xs="12" sm="6" md="4">
        <MudPaper Elevation="2" Class="pa-4" Style="height: 200px;">
            <MudText Typo="Typo.h6">Lieferaddresse</MudText>
            <MudText>
                @Order.DeliveryAddressFirstName @Order.DeliveryAddressLastName<br />
                @if(Order.DeliveryAddressCompanyName.Length > 0)
                {
                    @Order.DeliveryAddressCompanyName<br />
                }
                @Order.DeliveryAddressStreet<br />
                @Order.DeliverAddressZip @Order.DeliveryAddressCity
            </MudText>
        </MudPaper>
    </MudItem>
</MudGrid>

<MudPaper Class="p-4 mt-4">
    <MudText Typo="Typo.h6">Artikel</MudText>
    <MudDataGrid Items="@Order.OrderItems" SortMode="SortMode.Single">
        <Columns>
            <PropertyColumn Property="x => x.Name" Title="Produkt" />
            <PropertyColumn Property="x => x.Quantity" Title="Menge" />
            <PropertyColumn Property="x => x.Price" Title="Preis" Format="C" />
            <PropertyColumn Property="x => x.Quantity * x.Price" Title="Summe" Format="C" />
        </Columns>
    </MudDataGrid>
</MudPaper>