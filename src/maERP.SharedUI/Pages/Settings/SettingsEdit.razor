@page "/Settings/{Id:int}/Edit"
@using maERP.Domain.Dtos.Settings
@using Microsoft.AspNetCore.Authorization

@attribute [Authorize]

<PageTitle>Systemeinstellung bearbeiten</PageTitle>

<MudStack Row="true" Class="mb-8">
    <MudText Typo="Typo.h4">Systemeinstellung bearbeiten</MudText>
</MudStack>

@if (_setting == null)
{
    <MudProgressCircular Color="Color.Primary" Indeterminate="true" />
}
else
{
    <MudForm Model="@_setting" @ref="@Form" ValidationDelay="0">
        <MudGrid>
            <MudItem xs="12" sm="6">
                <MudCard>
                    <MudCardContent>
                        <MudTextField @bind-Value="_setting.Key"
                                    Label="Name"
                                    Variant="Variant.Text"
                                    Required="true" />
                        <MudTextField @bind-Value="_setting.Value"
                                    Label="Wert"
                                    Variant="Variant.Text"
                                    Required="true"
                                    Class="mt-3" />
                    </MudCardContent>
                    <MudCardActions>
                        <MudButton Variant="Variant.Filled"
                                 Color="Color.Primary"
                                 Size="Size.Large"
                                 ButtonType="ButtonType.Button"
                                 OnClick="@(Save)"
                                 Class="ml-auto">Speichern</MudButton>
                    </MudCardActions>
                </MudCard>
            </MudItem>
        </MudGrid>
    </MudForm>
}
